---
redirect_url: /bot-framework/bot-builder-send-welcome-message
ms.openlocfilehash: ef281fd1b6539484c06f68caffbd4e87ec8acc2b
ms.sourcegitcommit: cb0b70d7cf1081b08eaf1fddb69f7db3b95b1b09
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/09/2018
ms.locfileid: "51332906"
---
<a name="--"></a><!--
---
title: 新規ユーザーへのメッセージ | Microsoft Docs description: ボットの新規ユーザーに気持ちの良いエクスペリエンスを提供する方法について説明します。
keywords: 概要, 設計, ユーザー エクスペリエンス, ウェルカム, パーソナライズされたエクスペリエンス author: author: dashel ms.author: dashel manager: kamrani ms.topic: article ms.service: bot-service ms.subservice: sdk ms.date: 8/30/2018 monikerRange: 'azure-bot-service-4.0'
---

# <a name="welcoming-the-user"></a>新規ユーザーへのメッセージ

ボットを作成する主な目的は、有意義な会話によってユーザー エンゲージメントを高めることです。 この目標を達成するための効果的な方法の 1 つは、ユーザーが最初にアクセスした瞬間から、ボットの主な目的と機能 (ボットが作られた理由) をユーザーがわかるようにすることです。

## <a name="show-your-purpose"></a>目的を示す

たとえば、あるユーザーがシカゴ市内のホテル情報を調べようとして、"シカゴ観光情報" というラベルのボットにアクセスしたとします。 しかしそのボットは、ディープディッシュ ピザの愛好家にレストラン情報を提供するボットだったとします。 質問に見合った回答が得られないことに気づくと、ユーザーはすぐに使用をやめ、そのオンライン エクスペリエンスがひどいものだという印象を持つでしょう。 このような悪印象を残さないようにするには、ボットの主な目的や機能がユーザーに伝わるように、最初のアクセス時点から十分な情報を提供する必要があります。 

![ウェルカム メッセージ](./media/welcome_message.png)

ウェルカム メッセージを読んで、ボットの目的がユーザーの目的に合っていないことわかれば、ユーザーはすぐに使用をやめることができるで、無駄なやり取りにストレスを感じることもありません。
ウェルカム メッセージは、ユーザーがボットと最初にやり取りしたときに生成する必要があります。 そのためには、ボットの**アクティビティ** タイプと、新規の接続を監視します。 新規接続が検出されたときには、チャネルによって、最大 2 つの会話更新アクティビティが生成されます。

- 1 つは、ボットが会話に接続したときに生成されます。
- もう 1 つは、ユーザーが会話に参加したときに生成されます。

新しい会話更新が検出されるごとにウェルカム メッセージを生成するという方法をとりたくなるかもしれませんが、その方法だと、ボットがさまざまなチャネルからアクセスされた場合に、予期しない結果を招く恐れがあります。

## <a name="design-for-different-channels"></a>各種のチャネルを意識した設計

ボットによって提供される情報を完全に制御したとしても、その情報がさまざまなチャネルの環境でどのように表示されるかについては、必ずしも制御できているとは限りません。 チャネルによっては、ユーザーがそのチャネルに最初に接続したときに会話更新を 1 回生成し、ユーザーからの最初の入力メッセージが受信された後に、もう 1 つの会話更新を生成する場合もあります。 また、ユーザーがチャネルに最初に接続したときに、これら両方のアクティビティを生成するチャネルもあります。 単に会話更新イベントを監視し、2 つの会話更新アクティビティを使ってチャネルにウェルカム メッセージを表示した場合、ユーザーへのメッセージは次のように表示されるかもしれません。

![重複したウェルカム メッセージ](./media/double_welcome_message.png)

このようにメッセージが重複するのを避けるには、2 番目の会話更新イベントについてのみ、最初のウェルカム メッセージを生成するようにします。 2 番目のイベントは、次の両方が発生したときに検出されるようにします。
- 会話更新イベントが発生した。
- 新しいメンバー (ユーザー) が会話に追加された。

また、ユーザーの入力内容が有用な情報かどうかを考えることも重要です。これもやはり、チャネルによって状況が変わってきます。 ボットの最初の接続時に両方の会話更新アクティビティを生成するチャネルの場合は、ユーザーの最初の入力がウェルカム メッセージへの応答として適切に処理され、次のような会話になります。

![1 回の入力による応答](./media/single_input_response.png)

しかし、最初のユーザー入力を待ってから 2 番目の会話更新イベントを生成するチャネルの場合は、上記とまったく同じコードを使用しても、次のような結果になります。

![1 回の入力による不適切な応答](./media/single_input_wrong_response.png)

あらゆるチャネルで適切なエクスペリエンスを提供するためのベスト プラクティスは、ユーザーの最初の会話入力には、有用な情報が含まれないと想定することです。 最初の入力は無駄な情報だと考えたうえで、最初の入力の受信後に、会話を続けるための必要な情報入力を求めるようにしましょう。 この方法なら、ボットへの初回アクセスに使用されるチャネルに関係なく、一貫したユーザー エクスペリエンスを生成できます。

![最初の入力は使用しない](./media/no_first_input_response.png)

## <a name="personalize-the-user-experience"></a>ユーザー エクスペリエンスのパーソナライズ

ユーザーにとって、既に知っている情報が何度も表示されることほど、不親切で機械的な印象を与えるものはありません。 以前にアクセスしたユーザーの情報をボットで保持している場合は、まずその情報をチェックして、記録があれば、前回保存された名前を使用して、ユーザーの再訪を歓迎するようにしましょう。 

![再訪時のウェルカム メッセージ](./media/welcome_back.png)

その場合、会話ロジックでは、名前の入力を求めるメッセージをスキップし、次の会話アクティビティに移るようにします。

予期しないユーザー入力 (会話を終える言葉など) に対して適切な応答を返すようにすれば、ユーザーのエクスペリエンスをさらに効果的にパーソナライズできます。

![会話を終える言葉に対する応答](./media/respond_to_exit.png)

タイムリーで人間らしいやり取りを提供できるようにすれば、ボットでのやり取りが、ユーザーにとってより好印象で楽しいものになります。

## <a name="next-steps"></a>次の手順
> [!div class="nextstepaction"]
> [ユーザーへのウェルカム メッセージの送信](bot-builder-send-welcome-message.md)

-->
