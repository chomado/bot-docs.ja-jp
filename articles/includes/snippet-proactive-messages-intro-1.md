---
ms.openlocfilehash: c6abff25dcccce4c18ad0083ef24b69495222c9f
ms.sourcegitcommit: fa6e775dcf95a4253ad854796f5906f33af05a42
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/16/2019
ms.locfileid: "70297349"
---
通常、ボットがユーザーに送信する各メッセージは、ユーザーの前の入力に直接関連しています。
場合によっては、ボットは、会話の現在のトピックまたはユーザーによって最後に送信されたメッセージに直接関連していないメッセージをユーザーに送信する必要があります。 この種のメッセージは、**プロアクティブ メッセージ**と呼ばれます。

プロアクティブ メッセージは、さまざまなシナリオで役立ちます。
ボットがタイマーやリマインダーを設定している場合は、その時刻になったときにユーザーに通知する必要があります。
または、ボットが外部システムから通知を受信した場合は、その情報をユーザーにすぐに伝達する必要があります。
たとえば、ユーザーが製品の価格を監視するようにボットに依頼していた場合、ボットは、製品の価格が 20% 下がった場合にユーザーにアラートを発行できます。 ユーザーの質問に対する回答をまとめるのに時間が必要な場合、ボットは、時間がかかることをユーザーに通知して、会話を続けられるようにします。 質問の回答がまとまったら、ボットは、その情報をユーザーと共有します。

ボットでプロアクティブ メッセージを実装するときは:

- 短い時間で複数のプロアクティブ メッセージを送信 "*しない*"。 一部のチャネルでは、ボットがユーザーにメッセージを送信できる頻度に制限が設定され、これらの制限に違反した場合は、ボットが無効になります。
- これまでボットと対話したことがない、または電子メールや SMS などの別の手段を通してボットとの接触を要請されたことがないユーザーに対して、プロアクティブ メッセージを送信 "*しない*"。

プロアクティブ メッセージによって予期しない動作が発生する可能性があります。 次のシナリオで考えてみましょう。

![ユーザーの応答](~/media/designing-bots/capabilities/proactive1.png)

この例では、ユーザーは、既にラスベガスにあるホテルの価格を監視するようにボットに依頼しています。
ボットは、監視タスクをバックグラウンドで開始し、そのタスクはこの数日間引き続き実行されています。
この会話では、ユーザーは、ロンドンへの旅の予約をしようとしていますが、バックグラウンド タスクによって、ラスベガスにあるホテルの割引に関する通知メッセージがトリガーされています。 ボットは、この情報を会話に割り込ませて、ユーザーを混乱させています。

ボットは、このような状況をどのように処理すべきでしょうか。

- 現在の旅行予約が完了するまで待機した後、通知を伝達します。 このアプローチは、混乱を最小限に抑えますが、情報の伝達が遅れることで、ユーザーは、ラスベガスにあるホテルに低価格で宿泊する機会を逃す可能性があります。
- 現在の旅行予約フローをキャンセルし、すぐに通知を伝達します。 この方法は、適切なタイミングで情報を伝達しますが、旅行の予約をやり直す必要があることで、ユーザーはストレスを感じる可能性があります。
- 現在の予約を中断し、会話のトピックをラスベガスにあるホテルに明確に変更してユーザーの応答を待った後、進行中の旅行の予約に戻って中断したところから続行します。 この方法は、最適な選択肢にみえるかもしれませんが、ボットの開発者とユーザーの両方にとって複雑になります。

最も一般的なのは、**アドホック プロアクティブ メッセージ**とその他の技術が組み合わされてボットによって使用され、このような状況が処理されることです。
